<!DOCTYPE html>
<html lang="es">
    <head>
        <%- include('../partials/head') %>
        <link rel="stylesheet" href="/styles/form.css">
    </head>
    <body>
        <%- include('../partials/header') %>
        <main>
            <section>
                <h2>Crear producto</h2>
                <form action = '/products/create'  method = 'POST' enctype="multipart/form-data" >
                    <% let error =  locals && locals.errores %> 
                    <fieldset class=" <%= error && errores.name? 'error' : '' %>  ">
                        <input type="text" name="name" placeholder="Nombre"  
                            value ="<%= locals.oldData && oldData.name ? oldData.name: ''%>"
                        >
                        <i class="fas fa-exclamation-circle"></i>
                        <small><%= ( error && errores.name) ? errores.name.msg : '' %></small>
                    </fieldset>
                
                    <fieldset  class=" <%= error && errores.description? 'error' : '' %>  ">
                        <textarea name="description" cols="30" rows="10" placeholder="Descricion" ><%=locals.oldData && oldData.description ? oldData.description: '' %></textarea>
                        <i class="fas fa-exclamation-circle"></i>
                        <small><%= ( error && errores.description) ? errores.description.msg : '' %></small>
                    </fieldset>
                    
                    <label for="imagen">Imagenes del producto</label>
                    <fieldset class=" <%= error && errores.images? 'error' : '' %>  ">
                        <input type="file" name="images" multiple>
                        <i class="fas fa-exclamation-circle"></i>
                        <small><%= ( error && errores.images) ? errores.images.msg : '' %></small>
                    </fieldset>
                
                    <fieldset class="widthFull flex <%= ( error && errores.category)? 'error' : '' %>  ">
                        <label class="widthFull marginTBSmall">Categoria</label>
                        <label class="flex widthFull alignCenter marginTBSmall">
                            <input type="checkbox" name="category" value="destacado" 
                            <%= locals.oldData && locals.oldData.category? oldData.category.indexOf('destacado') != -1? 'checked' : '' : '' %> >
                            <p>Destacado</p>
                        </label>
                
                        <label class="flex widthFull alignCenter marginTBSmall">
                            <input type="checkbox" name="category" value="PC" 
                            <%= locals.oldData && locals.oldData.category? oldData.category.indexOf('PC') != -1? 'checked' : '' : '' %> >
                            <p>PC</p>
                        </label>
                        <label class="flex widthFull alignCenter marginTBSmall">
                            <input type="checkbox" name="category" value="momory-ram" 
                            <%= locals.oldData && locals.oldData.category? oldData.category.indexOf('momory-ram') != -1? 'checked' : '' : '' %> >
                            <p>Memoria RAM</p>
                        </label>
                        <label class="flex widthFull alignCenter marginTBSmall">
                            <input type="checkbox" name="category" value="accesorios" 
                            <%= locals.oldData && locals.oldData.category? oldData.category.indexOf('accesorios') != -1? 'checked' : '' : '' %> >
                            <p>Accesorios</p>
                        </label>
                        <small><%= ( error && errores.category) ? errores.category.msg : '' %></small>
                    </fieldset>

                    <fieldset  class=" <%= error && errores.off? 'error' : '' %>">
                        <input type="number" name="off" placeholder="Descuento" max="100" min="0" 
                        value ="<%= locals.oldData && oldData.off ? oldData.off: ''%>">
                        <i class="fas fa-exclamation-circle"></i>
                        <small><%= ( error && errores.price) ? errores.off.msg : '' %></small>
                    </fieldset>

                    <fieldset  class=" <%= error && errores.price? 'error' : '' %>  ">
                        <input type="number" name="price" min="0" placeholder="Precio"  
                        value = <%= locals.oldData && oldData.price ? oldData.price : '' %> >
                        <i class="fas fa-exclamation-circle"></i>
                        <small><%= ( error && errores.price) ? errores.price.msg : '' %></small>
                    </fieldset>
                        
                    <button type="submit" class="btnCian">Enviar</button>
                </form>
            </section>
        </main>
        <%- include('../partials/footer') %>
    </body>
</html>